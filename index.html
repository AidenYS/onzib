
<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>요금제 상세 탭 보기</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;600&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0b1224;
      --panel: #10192f;
      --muted: #7d8aa6;
      --text: #e8edf7;
      --accent: #f97316;
      --accent-weak: #243252;
      --radius: 16px;
      --shadow: 0 18px 60px rgba(0, 0, 0, 0.32);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: "Noto Sans KR", "Space Grotesk", sans-serif;
      color: var(--text);
      background: radial-gradient(circle at 20% 20%, #12213f, #0b1224 45%),
                  radial-gradient(circle at 80% 0%, #162449, rgba(11, 18, 36, 0) 50%),
                  #0b1224;
      display: flex;
      justify-content: center;
      padding: 32px 16px 48px;
    }

    .page {
      width: min(1200px, 100%);
      background: linear-gradient(160deg, rgba(36, 50, 82, 0.6), rgba(16, 25, 47, 0.9));
      border: 1px solid rgba(255, 255, 255, 0.05);
      border-radius: 24px;
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    header {
      position: relative;
      padding: 24px;
      display: flex;
      flex-direction: column;
      gap: 14px;
      background: linear-gradient(135deg, rgba(249, 115, 22, 0.12), rgba(12, 17, 35, 0.7));
    }

    header .eyebrow {
      text-transform: uppercase;
      letter-spacing: 0.2em;
      font-size: 12px;
      color: var(--muted);
    }

    header h1 {
      margin: 0;
      font-size: clamp(24px, 4vw, 32px);
      font-weight: 700;
      letter-spacing: -0.01em;
    }

    header p {
      margin: 0;
      color: var(--muted);
      line-height: 1.5;
    }

    .hero {
      border-radius: 14px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .hero img {
      display: block;
      width: 100%;
      height: auto;
    }
    .tabs {
      display: flex;
      gap: 10px;
      padding: 16px 20px;
      background: rgba(12, 16, 31, 0.7);
      border-top: 1px solid rgba(255, 255, 255, 0.04);
      border-bottom: 1px solid rgba(255, 255, 255, 0.04);
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(8px);
    }

    .tabs button {
      flex: 1;
      background: var(--accent-weak);
      color: var(--text);
      border: 1px solid rgba(255, 255, 255, 0.06);
      border-radius: var(--radius);
      padding: 12px 14px;
      font-size: 15px;
      font-weight: 600;
      letter-spacing: -0.01em;
      cursor: pointer;
      transition: transform 180ms ease, background 180ms ease, color 180ms ease, border 180ms ease;
    }

    .tabs button:hover {
      transform: translateY(-2px);
      border-color: rgba(249, 115, 22, 0.3);
    }

    .tabs button.active {
      background: linear-gradient(135deg, #f97316, #fb923c);
      color: #0c1123;
      border-color: rgba(249, 115, 22, 0.6);
      box-shadow: 0 10px 30px rgba(249, 115, 22, 0.35);
    }

    .content {
      padding: 20px;
    }

    figure {
      margin: 0;
      background: rgba(9, 13, 28, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.05);
      border-radius: 18px;
      overflow: hidden;
      box-shadow: var(--shadow);
    }

    figure img {
      display: block;
      width: 100%;
      height: auto;
      background: #0e162b;
      animation: fadeIn 200ms ease;
    }

    figcaption {
      padding: 14px 16px 16px;
      color: var(--muted);
      font-size: 14px;
      border-top: 1px solid rgba(255, 255, 255, 0.04);
      background: rgba(16, 25, 47, 0.65);
      backdrop-filter: blur(6px);
    }

    .notice {
      margin: 16px 20px 0;
      padding: 16px 18px;
      border-radius: 14px;
      border: 1px solid rgba(249, 115, 22, 0.35);
      background: linear-gradient(135deg, rgba(249, 115, 22, 0.16), rgba(12, 17, 35, 0.75));
      box-shadow: 0 14px 36px rgba(0, 0, 0, 0.28);
    }

    .notice p {
      margin: 6px 0;
      color: var(--text);
      font-size: 16px;
      line-height: 1.55;
      letter-spacing: -0.01em;
    }

    .notice strong {
      display: inline-block;
      font-size: 18px;
      font-weight: 700;
      color: #fff7ed;
    }

    .notice .note {
      color: #ffd7a0;
      font-weight: 700;
    }

    .cta {
      margin: 28px 0 12px;
      padding: 18px 20px;
      border: 1px solid rgba(249, 115, 22, 0.2);
      border-radius: 16px;
      background: linear-gradient(135deg, rgba(249, 115, 22, 0.08), rgba(12, 17, 35, 0.7));
      display: flex;
      gap: 16px;
      align-items: center;
      justify-content: space-between;
    }

    .cta-text { color: var(--text); }
    .cta-text p { margin: 6px 0 0; color: var(--muted); }

    .cta-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 16px;
      border-radius: 12px;
      background: linear-gradient(135deg, #fee500, #f7d000);
      color: #111;
      font-weight: 700;
      text-decoration: none;
      box-shadow: 0 10px 28px rgba(0, 0, 0, 0.3);
      transition: transform 160ms ease, box-shadow 160ms ease;
    }

    .cta-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 14px 32px rgba(0, 0, 0, 0.35);
    }

    .phone-form {
      margin: 12px 0 0;
      padding: 18px 20px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 14px;
      background: rgba(9, 13, 28, 0.6);
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
    }

    .phone-form label {
      flex: 1 1 100%;
      color: var(--text);
      font-weight: 700;
      letter-spacing: -0.01em;
    }

    .phone-form input {
      flex: 1 1 220px;
      min-width: 0;
      padding: 12px 14px;
      border-radius: 10px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(16, 25, 47, 0.8);
      color: var(--text);
      font-size: 15px;
      outline: none;
      transition: border 150ms ease, box-shadow 150ms ease;
    }

    .phone-form input:focus {
      border-color: rgba(249, 115, 22, 0.6);
      box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.18);
    }

    .phone-form button {
      flex: 0 0 auto;
      padding: 12px 16px;
      border-radius: 10px;
      border: none;
      background: linear-gradient(135deg, #f97316, #fb923c);
      color: #0c1123;
      font-weight: 800;
      cursor: pointer;
      box-shadow: 0 10px 24px rgba(249, 115, 22, 0.35);
      transition: transform 140ms ease, box-shadow 140ms ease;
    }

    .phone-form button:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 28px rgba(249, 115, 22, 0.4);
    }

    .phone-form small {
      flex: 1 1 100%;
      color: var(--muted);
      font-size: 12px;
      line-height: 1.4;
    }

    @keyframes fadeIn {
      from { opacity: 0.6; transform: translateY(4px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media (max-width: 768px) {
      body { padding: 16px 8px 32px; }
      .tabs { flex-wrap: wrap; position: static; }
      .tabs button { flex: 1 1 calc(50% - 10px); font-size: 14px; }
      .notice { margin: 14px 12px 0; }
      .cta { flex-direction: column; align-items: flex-start; }
      .cta-btn { width: 100%; justify-content: center; }
      .phone-form { padding: 16px; }
      .phone-form button { width: 100%; }
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <div class="eyebrow">제품 상세</div>
      <h1>통신사 요금제 상세 보기</h1>
      <p>모바일에서도 깔끔하게 보고, 현금지원 혜택 상담은 아래 버튼으로 바로 연결됩니다.</p>
      <section class="notice">
        <p><strong>아직 약정 완료된 인터넷 사용하고 계신가요?</strong></p>
        <p>인터넷 변경하고 최대현금혜택 받아가세요</p>
        <p class="note">방통위가 정한 합법적 지원금 - 3년마다 안 바꾸면 손해입니다</p>
      </section>
      <section class="notice">
        <p><strong>아래 통신사별 최대 지원금 혜택을 확인하세요</strong></p>
        <p>카톡, 번호로 상담신청해주시면 <strong>최대 추가혜택을 추가</strong>로 드립니다.</p>
        <p class="note">설치 즉시 당일 현금 쏴드립니다.</p>
        <p class="note">전국민이 누리는 혜택 놓치고 있으셨다면 지금 바로 신청해주세요</p>
      </section>
      <div class="hero">
        <img src="상단.jpg" alt="통신사 요금제 상단 배너">
      </div>
    </header>
    <div class="tabs" role="tablist" aria-label="통신사 요금제">
      <!-- Buttons will be injected by JS -->
    </div>

    <main class="content">
      <figure>
        <img id="page-image" src="" alt="요금제 상세 이미지" role="tabpanel">
        <figcaption id="page-caption"></figcaption>
      </figure>
      <section class="cta">
        <div class="cta-text">
          <strong>더 궁금한 점이 있나요?</strong>
          <p>카카오톡 채널로 바로 문의 주세요. 요금/설치 일정/프로모션을 빠르게 안내해드려요.</p>
          <p>카카오톡 채널로 문의주시면 비밀헤택을 더 드립니다.</p>
        </div>
        <a class="cta-btn" href="http://pf.kakao.com/_BnpYn/chat" target="_blank" rel="noopener">
          카카오톡으로 상담하기
        </a>
      </section>
      <form class="phone-form" id="callback-form">
        <label for="phone">전화번호 남겨주시면 바로 연락드릴게요.</label>
        <input id="phone" name="phone" type="tel" inputmode="tel" placeholder="예: 010-1234-5678">
        <button type="submit" id="phone-submit">연락 요청</button>
        <small>개인정보는 상담 응대용으로만 사용 후 즉시 폐기합니다.</small>
      </form>
    </main>
  </div>
  <script>
    const pages = [
      { id: 'lg-hellovision', label: 'LG헬로비전', src: '엘지헬로우비전.jpg', note: 'LG헬로비전 요금제 상세' },
      { id: 'sky', label: '스카이라이프', src: 'kt스카이라이프.jpg', note: '스카이라이프 요금제 상세' },
      { id: 'lg-uplus', label: 'LGU+', src: '엘지유플러스.jpg', note: 'LGU+ 요금제 상세' },
      { id: 'kt', label: 'KT', src: 'kt.jpg', note: 'KT 요금제 상세' },
      { id: 'sk', label: 'SK', src: 'sk.jpg', note: 'SK 요금제 상세' },
    ];

    const tabsEl = document.querySelector('.tabs');
    const imgEl = document.getElementById('page-image');
    const captionEl = document.getElementById('page-caption');

    const renderTabs = () => {
      pages.forEach((page, index) => {
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.textContent = page.label;
        btn.setAttribute('role', 'tab');
        btn.setAttribute('aria-controls', 'page-image');
        btn.dataset.pageId = page.id;
        btn.addEventListener('click', () => selectPage(page.id));
        if (index === 0) btn.classList.add('active');
        tabsEl.appendChild(btn);
      });
    };

    const selectPage = (id) => {
      const page = pages.find((p) => p.id === id);
      if (!page) return;
      imgEl.src = page.src;
      imgEl.alt = page.note;
      captionEl.textContent = page.note;
      document.querySelectorAll('.tabs button').forEach((btn) => {
        btn.classList.toggle('active', btn.dataset.pageId === id);
        btn.setAttribute('aria-selected', btn.dataset.pageId === id ? 'true' : 'false');
        btn.setAttribute('tabindex', btn.dataset.pageId === id ? '0' : '-1');
      });
    };

    renderTabs();
    selectPage(pages[0].id);

    // 전화번호 수집 → 구글 Apps Script Web App으로 전송
    // 배포ID : AKfycbztBgNnW7vi_yTGoj7fzx0EmOiIRI3TMmes8og0DYcMDwwCte3Q3LShjXw5gNyf1-lN
    // const SHEET_ENDPOINT = 'https://script.google.com/macros/s/AKfycbztBgNnW7vi_yTGoj7fzx0EmOiIRI3TMmes8og0DYcMDwwCte3Q3LShjXw5gNyf1-lN/exec';
    const SHEET_ENDPOINT = 'https://script.google.com/macros/s/AKfycbwzqxWaZwk1CtrOS4exY3RjPpxSvODOqMZm1vjZtUxq3Mi1U03lpXqe9tx8_1XYToSJ/exec';
    const phoneForm = document.getElementById('callback-form');
    const phoneInput = document.getElementById('phone');
    const phoneSubmit = document.getElementById('phone-submit');

    const sendPhone = async (payload) => {
      try {
        const res = await fetch(SHEET_ENDPOINT, {
          method: 'POST',
          headers: { 'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8' },
          body: payload
        });
        if (res.ok) return true;
        throw new Error(`HTTP ${res.status}`);
      } catch (err) {
        console.warn('CORS/네트워크 문제로 no-cors 방식으로 재시도합니다.', err);
        try {
          await fetch(SHEET_ENDPOINT, {
            method: 'POST',
            mode: 'no-cors',
            headers: { 'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8' },
            body: payload
          });
          return true; // 응답을 확인할 수는 없지만 요청 자체는 보냄
        } catch (fallbackErr) {
          console.error('no-cors fallback 실패', fallbackErr);
          return false;
        }
      }
    };

    phoneForm.addEventListener('submit', async (event) => {
      event.preventDefault();
      const phone = (phoneInput.value || '').trim();
      if (!phone) {
        alert('전화번호를 입력해 주세요.');
        return;
      }
      phoneSubmit.disabled = true;
      phoneSubmit.textContent = '전송 중...';
      try {
        const payload = new URLSearchParams({
          phone,
          ua: navigator.userAgent,
          referer: location.href
        }).toString();
        const ok = await sendPhone(payload);
        if (ok) {
          alert('접수되었습니다. 곧 연락드릴게요!');
          phoneForm.reset();
        } else {
          alert('전송에 실패했습니다. 잠시 후 다시 시도해주세요.');
        }
      } catch (err) {
        console.error(err);
        alert('전송 중 오류가 발생했습니다. 네트워크를 확인해 주세요.');
      } finally {
        phoneSubmit.disabled = false;
        phoneSubmit.textContent = '연락 요청';
      }
    });
  </script>
</body>
</html>
